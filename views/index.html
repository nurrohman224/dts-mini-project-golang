<!DOCTYPE html>
<html>
    <head>
        <title>List Task</title>
        <link rel="stylesheet" href="/static/style.css" />
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.2/css/bootstrap.css" />
        <link rel="stylesheet" href="https://cdn.datatables.net/1.12.1/css/dataTables.bootstrap4.min.css" />

        <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
        <script src="https://cdn.datatables.net/1.12.1/js/jquery.dataTables.min.js"></script>
        <script src="https://cdn.datatables.net/1.12.1/js/dataTables.bootstrap4.min.js"></script>
    </head>
    <body>
        <div class="container">
            <div class="row align-items-center">
              <div class="col">
                <h3 class="card-title">Task List</h3>
                <br>
                <br>
                <a class="btn btn-primary" href="/create" role="button">Create Task</a>
                <table class="table table-hover" id="table">
                    <thead>
                        <tr>
                            {{/* example how to use actions */}}
                            <th>Task Name</th>
                            <th>Assignee</th>
                            <th>Deadline</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        {{range $index, $elem := .tasks}}
                        <tr><td>{{$elem.TaskName}}</td>
                            <td>{{$elem.Assignee}}</td>
                            <td>{{$elem.Date}}</td>
                            <td>
                                <a class="btn btn-secondary" href="/update/{{$elem.Id}}" role="button">Update</a>
                                <a class="btn btn-danger" href="/delete/{{$elem.Id}}" role="button">Delete</a>
                                <!-- <button class="btn btn-default" data-href="{{$elem.Id}}" data-toggle="modal" data-target="#confirm-delete">
                                    Delete
                                </button> -->
                            </td>
                        </tr>
                        {{end}}
                    </tbody>
                </table>
                <div class="modal fade" id="confirm-delete" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                        
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                                <h4 class="modal-title" id="myModalLabel">Confirm Delete</h4>
                            </div>
                        
                            <div class="modal-body">
                                <p>You are about to delete one track, this procedure is irreversible.</p>
                                <p>Do you want to proceed?</p>
                                <p class="debug-url"></p>
                            </div>
                            
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                                <a class="btn btn-danger btn-ok">Delete</a>
                            </div>
                        </div>
                    </div>
                </div>
              </div>
            </div>
        </div>
        <div class="copy-right">
            &copy; 2022 - DTS GOL3-2 Asep Nur Rohman
            <br>
            https://github.com/nurrohman224/dts-mini-project-golang
        </div>
        <script type="text/javascript">
            $(document).ready(function () {
                $('#table').DataTable();
            });
        </script>
        <script src="/static/scripts.js" type="text/javascript"></script>

    </body>
</html>